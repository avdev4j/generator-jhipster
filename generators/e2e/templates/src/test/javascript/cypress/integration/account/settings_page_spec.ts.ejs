import {
    firstNameSettingsSelector,
    lastNameSettingsSelector,
    submitSettingsSelector,
    successSettingsSelector,
    emailSettingsSelector,
    errorSettingsSelector
} from '../../support/commands'

describe('/account/settings', () => {

    before(() => {
      cy.visit('');
      cy.login("user","user");
      cy.clickOnSettingsItem();
    })

    it("should be able to change 'user' firstname settings", () => {
      cy.get(firstNameSettingsSelector).clear().type('jhipster');
      cy.get(submitSettingsSelector).click();
      cy.get(successSettingsSelector).should('be.visible');
    });

    it("should be able to change 'user' lastname settings", () => {
      cy.get(lastNameSettingsSelector).clear().type('retspihj');
      cy.get(submitSettingsSelector).click();
      cy.get(successSettingsSelector).should('be.visible');
    });

    it("should be able to change 'user' email settings", () => {
      cy.get(emailSettingsSelector).clear().type('user@localhost.fr');
      cy.get(submitSettingsSelector).click();
      cy.get(successSettingsSelector).should('be.visible');
    });

    it("should not be able to change 'user' settings if email already exists", () => {
      cy.get(emailSettingsSelector).clear().type('admin@localhost');
      cy.get(submitSettingsSelector).click();
      cy.get(errorSettingsSelector).should('be.visible');
    });

    after(() => {
        cy.clickOnLogoutItem();
    })
})
